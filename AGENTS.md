# Repository Guidelines

## Project Structure & Module Organization
- `src/main.rs` contains the GTK4 application entry point and UI logic.
- `Cargo.toml` defines the Rust crate metadata and dependencies.
- `access-launcher.desktop` provides the desktop entry used by the RPM build.
- `access-launcher.spec` defines the Fedora RPM packaging.
- `.copr/Makefile` provides an `srpm` target for COPR `buildscm --method make_srpm`.
- `.cargo/config.toml` configures Cargo to use vendored dependencies in `vendor/`.
- `target/` holds build artifacts (generated by Cargo; do not edit).
- `build.log` and `run.log` are local output logs from previous runs.

## Build, Test, and Development Commands
- `cargo build` compiles the application in debug mode.
- `cargo run` builds (if needed) and launches the GTK app locally.
- `cargo test` runs the test suite (none currently defined; add tests as you add modules).
- `cargo fmt` formats Rust sources using rustfmt.
- `cargo clippy` runs the linter for common Rust issues.
- `make srpm` builds a local SRPM using the spec file.
- `copr-cli buildscm boo15mario/access-os --clone-url https://github.com/boo15mario/access-launcher --spec access-launcher.spec --method make_srpm` starts a COPR build.

## Coding Style & Naming Conventions
- Use Rust 2021 edition conventions with 4-space indentation (rustfmt default).
- Prefer descriptive function and variable names (`collect_desktop_entries`, `category_map`).
- Keep GTK widget construction localized to helper functions for clarity.
- Run `cargo fmt` before committing; use `cargo clippy` to catch warnings early.

## Testing Guidelines
- No test framework is configured yet; use Rustâ€™s built-in test runner when adding modules.
- Place unit tests alongside code in `src/` using `#[cfg(test)]`.
- Name tests with clear behavior verbs (e.g., `parses_desktop_entry_name`).
- Run all tests with `cargo test`.

## Commit & Pull Request Guidelines
- Git history is not available in this workspace; use clear, imperative commit messages
  (e.g., "Add category filter for desktop entries").
- Keep commits focused on a single change.
- PRs should include a brief summary, testing notes (commands run), and UI screenshots
  when visual behavior changes.

## Configuration & Platform Notes
- This project depends on Rust, GTK4 development libraries, a C compiler, and pkg-config.
- COPR builds are offline: dependencies are vendored and `CARGO_NET_OFFLINE=1` is used.
- Example installs:
  - Fedora: `sudo dnf install -y rust cargo gtk4-devel gcc pkgconf-pkg-config`
  - Debian/Ubuntu: `sudo apt-get install -y rustc cargo libgtk-4-dev build-essential pkg-config`
  - Arch Linux: `sudo pacman -S --needed rust cargo gtk4 base-devel pkgconf`
  - Gentoo: `sudo emerge --ask dev-lang/rust gui-libs/gtk:4 sys-devel/gcc pkgconf`
- Optional tools:
  - rustfmt and clippy:
    - rustup: `rustup component add rustfmt clippy`
    - Distro packages (verify names with your package manager):
      - Fedora: `sudo dnf install -y rustfmt clippy`
      - Debian/Ubuntu: `sudo apt-get install -y rustfmt clippy`
      - Arch Linux: `sudo pacman -S --needed rustfmt clippy`
      - Gentoo: `sudo emerge --ask dev-util/rustfmt dev-util/clippy`
  - Auto-rebuild: `cargo install cargo-watch`
  - Debugger packages:
    - Fedora: `sudo dnf install -y gdb lldb`
    - Debian/Ubuntu: `sudo apt-get install -y gdb lldb`
    - Arch Linux: `sudo pacman -S --needed gdb lldb`
    - Gentoo: `sudo emerge --ask sys-devel/gdb sys-devel/lldb`
